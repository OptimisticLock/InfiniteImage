<head>
    <title>InfiniteImage</title>
</head>

<body>

{{> imageEditor}}
</body>

<template name="imageEditor">
    <div id="imageEditor">
        {{> palette }}
        {{> colorPalette}}
        Click a few times here:
        {{>canvass}}
    </div>
</template>


<template name="palette">
    <div id="palette btn-group">

        <button id="toolPencil" class="btn btn-default tool">
            <div class="glyphicon glyphicon-pencil"></div>
            <div class="toolLabel">Pencil</div>
        </button>

        <button id="toolPolyline" class="btn btn-default tool">
            <div class="glyphicon glyphicon-send"></div>
            <div class="toolLabel">Polygon</div>
        </button>

        <button id="toolEllipse" class="btn btn-default tool">
            <svg width="4em" height="4em">
                <circle cx="20" cy="20" r="20" fill="currentColor"/>
            </svg>
            <div class="toolLabel">Ellipse</div>
        </button>

        <button id="toolColorPicker" class="btn btn-default tool">
          <div class='demo2' style="height:100px;width:100px;background-color:{{activeColor}}">
          </div>
        </button>

        <div class="btn-group" role="group">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Lines
            <span class="caret"></span>
          </button>
          <ul class="dropdown-menu">
            <li><a href="#" class='lineWidthChoice' linewidth='2'>Thin</a></li>
            <li><a href="#" class='lineWidthChoice' linewidth='4'>Medium</a></li>
            <li><a href="#" class='lineWidthChoice' linewidth='8'>Thick</a></li>
            <li><a href="#" class='lineWidthChoice' linewidth='16'>XL</a></li>
          </ul>
        </div>

        <button id="clearBoard" class="btn btn-default tool">
            <div class="glyphicon glyphicon-erase"></div>
            <div class="toolLabel">Clear All</div>
        </button>
    </div>


</template>

<template name="canvass">
    <div id="canvass">
        <svg width="1000" height="600" style='position:relative;z-index:1'>

          {{#each items}}
            {{#if isPolyline}}
                <polyline points="{{svgPoints}}" style="{{style}}"/>
            {{/if}}

            {{#if isEllipse}}
                <ellipse cx="200" cy="80" rx="100" ry="50" style="{{style}}"/>
            {{/if}}

          {{/each}}
          {{> polyline }}
          {{> pencil}}
        </svg>
    </div>
</template>


<template name="polyline">
    <polyline points="{{currPoints}}" style="fill:red;stroke:black;stroke-width:3"/>
    <line {{tentative}} style="stroke:black;stroke-width:2"/>

</template>

<template name='pencil'>
  <polyline points="{{currentLine}}" style="fill:none;stroke:{{activeColor}};stroke-width:{{activeLineWidth}}" />
</template>

